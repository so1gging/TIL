# ğŸ“ 2024ë…„ 02ì›” 04ì¼ ê¸°ë¡
components-should-be-flexible
----

- ìš°ë¦¬ê°€ ì‘ì„±í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ì§€ì†ê°€ëŠ¥í•´ì•¼ í•œë‹¤.
- í´ë¦° ì½”ë“œì— ì…ê°í•˜ì—¬ ì½”ë“œê°€ ì˜ ì½íˆë„ë¡ ì‘ì„±í•˜ëŠ” ê²ƒ ê·¸ ìì²´ê°€ ëª©ì ì´ ë˜ì–´ì„œëŠ” ì•ˆëœë‹¤.
- ìš°ë¦¬ê°€ ì‘ì„±í•˜ëŠ” ì½”ë“œëŠ” ì˜ˆìƒí•  ìˆ˜ ì—†ëŠ” ë³€ê²½ì— ê·¸ë‚˜ë§ˆ ìœ ì—°í•˜ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

> ì™œëƒí•˜ë©´, ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ëŠì„ì—†ì´ ë³€í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

### 1. ë°ì´í„°ê¸°ë°˜ ì„¤ê³„

> ì™¸ë¶€ë¡œë¶€í„° ì£¼ì†Œ ëª©ë¡ì„ ê°€ì ¸ì™€ ë Œë”ë§ í•˜ëŠ” í˜ì´ì§€ë¥¼ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬í•´ë³´ì.

```typescript jsx
function AddressPage() {
  const [addresses, setAddresses] = useState<ì£¼ì†Œ[] | null>(null)

  const handleSaveClick = (id: string) => {
    // save
  }
  const handleUnsaveClick = (id: string) => {
    // unsave
  }

  useEffect(() => {
    ;(async () => {
      const addresses = await fetchAddressList()

      setAddresses(addresses)
    })()
  }, [])

  return (
    <section>
      <h1>ì£¼ì†Œëª©ë¡</h1>
      <ul>
        {addresses != null
          ? addresses.map(({ id, address, saved }) => {
              return (
                <li key={id}>
                  {address}
                  <button onClick={saved ? handleUnsaveClick : handleSaveClick}>
                    {saved ? 'ì €ì¥' : 'ì‚­ì œ'}
                  </button>
                </li>
              )
            })
          : null}
      </ul>
    </section>
  )
}
```

- ì£¼ì†Œì— ëŒ€í•œ ë°ì´í„°ë¥¼ ì™¸ë¶€ì—ì„œ ê°€ì ¸ì˜¤ê³ 
- ê·¸ ë°ì´í„°ë¥¼ UIë¡œ í‘œí˜„í•˜ë©° ì‚¬ìš©ìì˜ ì¸í„°ë ‰ì…˜ì„ ë°›ê³  ìˆë‹¤.

**ë°ì´í„° ì¤‘ì‹¬ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬**

`ì£¼ì†Œëª©ë¡`, `ì£¼ì†Œ` ë¼ëŠ” ë‘ ê°œì˜ ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶„ë¦¬í•˜ë©´ ì–´ë–¨ê¹Œ?

ì£¼ì†Œëª©ë¡
```typescript jsx
function AddressPage() {
  return (
    <section>
      <h1>ì£¼ì†Œëª©ë¡</h1>
      <AddressList />
    </section>
  )
}
```
- ì „: `AddressPage` ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ propsë¡œ ë‚´ë ¤ì¤Œ.
- í›„: `AddressList` ê°€ ìŠ¤ìŠ¤ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ UIë¥¼ ê·¸ë¦¼.
```typescript jsx
function AddressList() {
  const [addresses, setAddresses] = useState<ì£¼ì†Œ[] | null>(null);
  // call fetchAddressList

  return (
    <ul>
      {addresses.map(address => {
        return (
          <AddressItem
            key={address.id}
      address={address.address}
            saved={address.address}
            onSaveClick={handleSaveClick}
            onUnsaveClick={handleUnsaveClick}
            {...address}
          />
        );
      })}
    </ul>
  );
}
```
```typescript jsx
// 1ë²ˆ AddressItem
function AddressItem({ address, saved, onSaveClick, onUnsaveClick }: Props) {
  return (
    <li>
      {address}
      <button onClick={saved ? onUnsaveClick : onSaveClick}>
        {saved ? 'ì €ì¥' : 'ì‚­ì œ'}
      </button>
    </li>
  )
}
```

ë‘ê°€ì§€ ë¬¸ì œì  ë°œìƒ

- `onSaveClick` , `onUnSaveClick` ë¶€ë¶„ì´ ì—¬ì „íˆ AddressList ì»´í¬ë„ŒíŠ¸ì— ì •ì˜ê°€ ë˜ì–´ìˆë‹¤. 
- ì‚¬ì‹¤ ì´ í•¸ë“¤ëŸ¬ëŠ” ì£¼ì†Œë¥¼ ì €ì¥í•˜ê³  ì €ì¥ì„ í•´ì§€í•˜ëŠ” ì•¡ì…˜ì„ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— AddressList ì»´í¬ë„ŒíŠ¸ì˜ ì—­í• ì´ë¼ê¸°ë³´ë‹¤ AddressItemì˜ ì—­í• ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.
- AddressItemì—ì„œ ë³´ì—¬ì¤˜ì•¼ í•˜ëŠ” ì£¼ì†Œ ë°ì´í„°ê°€ ì¶”ê°€ëœë‹¤ë©´ ì–´ë–¤ ì‘ì—…ì„ í•´ì¤˜ì•¼ í• ê¹Œ?
- ë¨¼ì € AddressItemì—ì„œ í•„ìš”í•´ì§„ ë°ì´í„°ì— ëŒ€í•´ propsë¥¼ ì •ì˜í•´ì£¼ê³  ê·¸ê²ƒì„ ë³´ì—¬ì£¼ë„ë¡ ìˆ˜ì •í•´ì¤€ ë‹¤ìŒ,
- AddressListì—ì„œ propsë¥¼ ì „ë‹¬í•´ì¤˜ì•¼ í•œë‹¤.
- -> í•˜ë‚˜ì˜ ë³€ê²½ì´ ë‘ ê°œì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³€ê²½ì‹œí‚¤ëŠ” ê²ƒì´ë‹¤.


- ë³€ê²½ìœ¼ë¡œ ì¸í•´ ë‘ ê°€ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ í™•ì¸í•´ì•¼ í•˜ê³  ë‘ ê³³ì— ë²„ê·¸ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìƒê¸´ ê²ƒì´ë‹¤.
- ì™œ í•˜ë‚˜ì˜ ë³€ê²½ ì‚¬í•­ì„ ë°˜ì˜í•˜ê¸° ìœ„í•´ ë‘ ì»´í¬ë„ŒíŠ¸ê°€ ë³€ê²½ë˜ì–´ì•¼ í–ˆì„ê¹Œ? ì´ ë³€ê²½ ì‚¬í•­ìœ¼ë¡œ ì¸í•´ ë‘ ê°œì˜ ì»´í¬ë„ŒíŠ¸ê°€ ë³€ê²½ë˜ì—ˆì§€ë§Œ ë” ëŠ˜ì–´ë‚  ìˆ˜ë„ ìˆì§€ ì•Šì„ê¹Œ?


**ì—­í•  ì¤‘ì‹¬ìœ¼ë¡œ ë¶„ë¦¬í•˜ê¸°.**
```typescript jsx
// 2ë²ˆ AddressItem
function AddressItem({ id, address, saved }: ì£¼ì†Œ) {
  const handleSaveClick = () => {
    // save
  }
  const handleUnsaveClick = () => {
    // unsave
  }
  return (
    <li key={id}>
      {address}
      <button onClick={saved ? handleSaveClick : handleUnsaveClick}>
        {saved ? 'ì €ì¥' : 'ì‚­ì œ'}
      </button>
    </li>
  )
}
```

- AddressItem ì»´í¬ë„ŒíŠ¸ì— ìœ„ì¹˜í•˜ë©´ì„œ ì—­í• ì— ë”°ë¼ í•¸ë“¤ëŸ¬ê°€ ì •ì˜ë˜ì—ˆê³ , ë¶ˆí•„ìš”í•œ ì¸ìê°€ ì‚¬ë¼ì¡Œë‹¤. `(id: string)`
- propsë„ ì£¼ì†Œ ë°ì´í„°ë¥¼ ì „ë¶€ ë°›ì„ ìˆ˜ ìˆë„ë¡ ìˆ˜ì •ë˜ì—ˆë‹¤.
- ê³µí†µì˜ ì£¼ì†Œ ëª¨ë¸ì„ ê¸°ì¤€ìœ¼ë¡œ ì¸í„°í˜ì´ìŠ¤ê°€ ì„¤ê³„ë˜ì—ˆê¸° ë•Œë¬¸ì— ë³´ì—¬ì¤˜ì•¼ í•˜ëŠ” ì£¼ì†Œ ë°ì´í„°ê°€ ì¶”ê°€ëœë‹¤ë©´ AddressItem ì»´í¬ë„ŒíŠ¸ë§Œ ìˆ˜ì •í•˜ë©´ ëœë‹¤.


ì¶”ê°€ë¡œ, ì €ì¥, ì‚­ì œ ì—­í• ì„ ë²„íŠ¼ì—ê²Œë„ ìœ„ì„í•´ë³´ì.

```typescript jsx
// 3ë²ˆ AddressItem
function AddressItem({ id, address, saved }: ì£¼ì†Œ) {
  return (
    <li key={id}>
      {address}
      {saved ? <SaveAddressButton id={id} /> : <UnsaveAddressButton id={id} />}
    </li>
  )
}

function SaveAddressButton({ id }: { id: string }) {
  const handleSaveClick = () => {
    // save
  }
  return <button onClick={handleSaveClick}>ì €ì¥</button>
}

function UnsaveAddressButton({ id }: { id: string }) {
  const handleUnsaveClick = () => {
    // unsave
  }
  return <button onClick={handleUnsaveClick}>ì‚­ì œ</button>
}
```


> ì´ë ‡ê²Œ ë‚˜ëˆˆ ì»´í¬ë„ŒíŠ¸ëŠ” ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í• ê¹Œ?

### 2. ì¼ë°˜ì ì¸ ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„
- ì»´í¬ë„ŒíŠ¸ë“¤ì´ ì¬ì‚¬ìš© ê°€ëŠ¥í•œì§€, ë³€ê²½ì— ëŒ€ì‘í•  ìˆ˜ ìˆëŠ”ì§€ ì‚´í´ë´ì•¼ í•œë‹¤.
> ê·¸ëŸ¬ê¸° ìœ„í•´ì„œëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ì¢‹ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼ í•œë‹¤. ì¢‹ì€ ì¸í„°í˜ì´ìŠ¤ë€ ì–´ë–¤ ê²ƒì¼ê¹Œ?

**ì»´í¬ë„ŒíŠ¸ì˜ ì¸í„°í˜ì´ìŠ¤**
- ì¸í„°í˜ì´ìŠ¤ëŠ” ì‚¬ìš©í•˜ëŠ” ìª½ì„ ìœ„í•œ ê²ƒ.
- ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ìª½ì—ì„  ì¸í„°í˜ì´ìŠ¤ë¥¼ ë³´ê³  ì–´ë–»ê²Œ ë™ì‘í• ì§€ ì˜ˆìƒ ê°€ëŠ¥í•´ì•¼ í•¨.
- ê¸°ë³¸ì— ê·¼ê±°í• ìˆ˜ë¡ ì´í•´í•˜ê¸° ì‰½ë‹¤. ì›¹ì˜ ë¬¸ì„œëŠ” HTMLë¡œ ì‘ì„±ëœë‹¤. í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë”°ë¼ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê²°ì •í•˜ë©´ ì˜ë¯¸ë¥¼ íŒŒì•…í•˜ê³ ì í•˜ëŠ” ë…¸ë ¥ ì—†ì´ ê·¸ ì˜ë¯¸ë¥¼ ì´í•´í•  ìˆ˜ ìˆë‹¤.

**ì¼ë°˜ì ì¸ ì¸í„°í˜ì´ìŠ¤**
- 'ì¼ë°˜ì ì¸' ì¸í„°í˜ì´ìŠ¤ë€ êµ¬ì²´ì ìœ¼ë¡œ ë‹¤ìŒ ë‘ ê°€ì§€ë¥¼ ì˜ë¯¸í•œë‹¤.

- íŠ¹ì • ë„ë©”ì¸ì— ëŒ€í•œ ë§¥ë½ì„ ê°€ì§€ê³  ìˆì§€ ì•Šì•„ì„œ ì–´ëŠ ë„ë©”ì¸ì—ì„œë“  ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤
- ì‚¬ìš©í•˜ëŠ” ì…ì¥ì—ì„œ ë‚´ë¶€ë¥¼ ë³´ì§€ ì•Šê³ ë„ ì´ ì»´í¬ë„ŒíŠ¸ì˜ ì—­í• ì„ ì´í•´í•  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤

----
ìœ„ì˜ AddressList ë¥¼ ì¢‹ì€ ì¸í„°í˜ì´ìŠ¤ ê¸°ì¤€ì— ë§ì¶° ì¬ì„¤ê³„ í•´ë³´ì.
1. `ì£¼ì†Œ` ë¼ëŠ” íŠ¹ì • ë„ë©”ì¸ê³¼ ê°•í•˜ê²Œ ê²°í•©ë˜ì–´ ìˆëŠ” ë¶€ë¶„ì´ ë§ë‹¤.
ë„ë©”ì¸ ë§¥ë½ì„ ì œê±°í•´ë³´ì.

```typescript jsx
// before: AddressItem
function FlexListItem({ text, button }: { text: string, button: ReactNode }) {
return (
<FlexLi>
{text}
{button}
</FlexLi>
)
}
const FlexLi = styled('li')``
```

```typescript jsx
function AddressList() {
  const [addresses, setAddresses] = useState<ì£¼ì†Œ[] | null>(null);
  // call fetchAddressList

  return (
    <ul>
      {addresses.map(({ id, address, saved }) => {
        return (
          <FlexListItem
            key={id}
            text={address}
            button={saved ? <SaveAddressButton id={id} /> : <UnsaveAddressButton id={id} />}
          />
        );
      })}
    </ul>
  );
}
```
- ë„ë©”ì¸ ë§¥ë½ì„ ì œê±°í•˜ì.
- ì˜ì¡´ì„±ì„ ì»´í¬ë„ŒíŠ¸ê°€ ì§ì ‘ ì°¸ì¡°í•˜ì§€ ë§ê³  ì™¸ë¶€ë¡œë¶€í„° ì£¼ì…ë°›ì.

**ì¶œì²˜**
> https://blog.jbee.io/web/%EB%B3%80%EA%B2%BD%EC%97%90+%EC%9C%A0%EC%97%B0%ED%95%9C+%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8
