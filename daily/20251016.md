```
// Before
{isVisible && <Page />}

// After
<Activity mode={isVisible ? 'visible' : 'hidden'}>
  <Page />
</Activity>
```

- 기존 방식에서는 토글 버튼을 누를 때마다 설정 패널 컴포넌트가 DOM에서 완전히 사라졌다가 다시 생겨났습니다.
- 하지만 ‘Activity’를 사용한 새로운 방식에서는 토글 버튼을 꺼도 설정 패널 컴포넌트가 DOM에 그대로 남아있는 것을 볼 수 있거든요.
- 다시 렌더링할 필요가 없으니 그만큼 성능 이점을 챙길 수 있는 것입니다.

```
function ChatRoom({ roomId, theme }) {
  const onConnected = useEffectEvent(() => {
    showNotification('Connected!', theme);
  });

  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.on('connected', () => {
      onConnected();
    });
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]); // ✅ All dependencies declared (Effect Events aren't dependencies)
  // ...
```

‘useEffectEvent’는 바로 이 문제를 해결하기 위해 등장한 건데요.

이벤트의 성격을 가지는 함수, 즉 반응성(reactive) 로직과 비반응성(non-reactive) 로직이 섞여 있을 때 비반응성 로직을 분리해주는 역할을 합니다.
