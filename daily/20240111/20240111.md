# ðŸ“ 2024ë…„ 01ì›” 07ì¼ ê¸°ë¡

## Next.js ë’¤ë¡œê°€ê¸° ë°©ì§€í•˜ê¸°
> next.js í™˜ê²½ì—ì„œ ì–´ë–»ê²Œ ë¸Œë¼ìš°ì €ì˜ ë’¤ë¡œê°€ê¸°ë¥¼ ê°ì§€í•˜ë‚˜ìš”?

router objectê°€ ì œê³µí•˜ëŠ” `beforePopState` í•¨ìˆ˜ë¥¼ í†µí•´ ë¸Œë¼ìš°ì €ì˜ ë’¤ë¡œê°€ê¸° ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•  ìˆ˜ ìžˆë‹¤.

- `beforePopState` í•¨ìˆ˜ì˜ ì‹¤í–‰ íë¦„
  - ë’¤ë¡œê°€ê¸° ë²„íŠ¼ í´ë¦­
  - ë¸Œë¼ìš°ì € ì£¼ì†Œ ë³€ê²½
  - `router.beforePopState` ì‹¤í–‰
  - `router.beforePopState` í•¨ìˆ˜ê°€ falseë¥¼ ë¦¬í„´í•˜ë©´ ì£¼ì†Œë§Œ ë³€ê²½ë˜ê³  ì‹¤ì œë¡œ í™”ë©´ì„ ì´ë™í•˜ì§€ ì•ŠìŒ.

  **ì •ë¦¬í•˜ìžë©´,**
- ë¸Œë¼ìš°ì € ë°±ë²„íŠ¼ í´ë¦­
- ë¸Œë¼ìš°ì € ížˆìŠ¤í† ë¦¬ì˜ ì£¼ì†Œê°€ ë³€ê²½ë¨ (ë§¨ ìœ„ì˜ ì£¼ì†Œê°€ popë¨)
- `popstate` ì´ë²¤íŠ¸ê°€ ì‹¤í–‰ë˜ë©´ì„œ íŽ˜ì´ì§€ê°€ ì´ë™.

- ë¸Œë¼ìš°ì €ì˜ ì£¼ì†Œê°€ ë³€ê²½ë˜ëŠ” ê²ƒì€ ë§‰ì„ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë°”ë€ì£¼ì†Œë¥¼ ë‹¤ì‹œ ì›ìƒíƒœë¡œ ë˜ëŒë ¤ì•¼ í•¨.
- `window.history.pushState` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¸Œë¼ìš°ì € ížˆìŠ¤í† ë¦¬ì— ì£¼ì†Œë¥¼ ì¶”ê°€

```typescript
  useEffect(() => {
    router.beforePopState(state => {
      window.history.pushState(null, '', router.asPath);
      OpenModal().then(({ isConfirmed }) => {
        if (isConfirmed) { 
          router.beforePopState(() => true);
          router.back();
        }
      });

      return false;
    });
  }, []);
```

**ì¶œì²˜**
> https://careerly.co.kr/qnas/760
