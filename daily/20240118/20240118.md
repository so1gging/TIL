# ğŸ“ 2024ë…„ 01ì›” 07ì¼ ê¸°ë¡
## í”„ëŸ°íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸ ê³µë¶€ ğŸ“š

-----

`useNavigate()` ê²€ì¦í•´ì•¼í• ê¹Œ?

- ì´ë¯¸ ë‚´ë¶€ì ìœ¼ë¡œ ìƒì„¸í•˜ê²Œ í•µì‹¬ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸ ê²€ì¦í•œ ìƒíƒœ.
- useNavigate()ì— ëŒ€í•œ ë™ì‘ê¹Œì§€ í…ŒìŠ¤íŠ¸í•  í•„ìš”ëŠ” ì—†ë‹¤.

ì œëŒ€ë¡œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ë§Œ í…ŒìŠ¤íŠ¸í•˜ë©´ ëœë‹¤.

- ì™¸ë¶€ ëª¨ë“ˆì— ëŒ€í•œ ê²€ì¦ì€ ì™„ì „íˆ ë¶„ë¦¬
- ëª¨ë“ˆì˜ íŠ¹ì • ê¸°ëŠ¥ì„ ì œëŒ€ë¡œ í˜¸ì¶œí•˜ëŠ”ì§€ë§Œ ê²€ì¦ -> **Mocking**


----
### Mocking í•˜ê¸°
```typescript
vi.mock('react-router-dom', async () => {
  const original = await vi.importActual('react-router-dom');
  return { ...original, useNavigate: () => navigateFn };
});

it('"ë’¤ë¡œ ì´ë™" ë²„íŠ¼ í´ë¦­ì‹œ ë’¤ë¡œ ì´ë™í•˜ëŠ” navigate(-1) í•¨ìˆ˜ê°€ í˜¸ì¶œëœë‹¤', async () => {
  const { user } = await render(<ErrorPage />);
  const button = await screen.getByRole('button', { name: 'ë’¤ë¡œ ì´ë™' });
  await user.click(button);

  expect(navigateFn).toHaveBeenNthCalledWith(1, -1);
});
```
----
### hook test í•˜ê¸°

```typescript
it('í˜¸ì¶œ ì‹œ initialValue ì¸ìë¥¼ ì§€ì •í•˜ì§€ ì•ŠëŠ” ê²½ìš° isModalOpened ìƒíƒœê°€ falseë¡œ ì„¤ì •ëœë‹¤.', () => {
  // result: hookì„ í˜¸ì¶œí•˜ì—¬ ì–»ì€ ê²°ê³¼ ê°’ì„ ë°˜í™˜ -> result.current ê°’ì˜ ì°¸ì¡°ë¥¼ í†µí•´ ìµœì‹  ìƒíƒœë¥¼ ì¶”ì í•  ìˆ˜ ìˆë‹¤.
  // rerender: í›…ì„ ì›í•˜ëŠ” ì¸ìì™€ í•¨ê»˜ ìƒˆë¡œ í˜¸ì¶œí•˜ì—¬ ìƒíƒœë¥¼ ê°±ì‹ í•œë‹¤.
  const { result } = renderHook(useConfirmModal);
  expect(result.current.isModalOpened).toBe(false);
});

```

### fireEvent
- ë‹¨ìˆœí•˜ê²Œ ì´ë²¤íŠ¸ë§Œ ë””ìŠ¤íŒ¨ì¹˜
- ê·¸ ì™¸ì— ì—°ì‡„ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ëŠ” ê³ ë ¤í•˜ì§€ ì•ŠëŠ”ë‹¤.
