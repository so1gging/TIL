# 📝 2024년 03월 10일 기록
### (1) 컴포넌트의 state나 props가 바뀔 때마다 해당 컴포넌트가 리렌더링 되면 컴포넌트 내에서 선언-할당한 변수는 재선언-재할당 되나요?

- React 컴포넌트가 리렌더링 되면 **컴포넌트 안에 선언된 변수는 재선언/재할당이 일어납니다.** (= 자바스크립트 런타임의 메모리 참조가 변경됩니다.)


### (2) usecallback의 명확한 목적도 헷갈립니다.
- React가 리렌더링 될 때, 동일한 참조를 유지하고 싶은 변수를 useCallback/useMemo로 관리합니다.
- 동일한 참조를 유지하는 목적은 성능 향상 목적도 있지만, **의도치 않은 버그를 방지하는 목적**도 있습니다.
  
- 예를 들어 1번만 실행되야 하는 useEffect가 있다고 가정하겠습니다.
- useEffect 안에 해당 함수를 실행하는 로직이 있기 때문에, 종속성으로도 해당 함수를 갖고 있습니다.
  이 때, 리렌더링이 발생하면서 함수 참조값이 변경되면 useEffect는 종속성이 변경되었으므로 한 번 더 실행됩니다.
  이 함수를 useCallback으로 감싸서 참조를 유지해주면, useEffect는 리렌더링이 일어나도 해당 함수가 동일한 참조를 갖고 있으므로 다시 실행되지 않습니다.

### (3) 만약 함수 내용이 바뀔 일이 없고 state나 props 값도 사용하지 않으면, 컴포넌트 바깥에서 선언-할당하는 게 좋은 건가요?
- React 상태에 의존성이 없는 함수들을 외부로 빼면 여러가지 장점이 있습니다.
- 1) 가독성이 좋아집니다. 코드를 읽을 때 React에 의존성이 없는 함수라는 것을 개발자가 바로 파악할 수 있습니다.
- 2) 테스트가 용이합니다. React 스코프 안에 정의된 함수는 export되지 않아서 단위 테스트 도구(ex: Jest)로 테스트가 불가능합니다.
- 3) 유지보수에 용이합니다. 함수를 별도의 폴더에 분리해서 관리할 수 있기 때문에 관심사가 분리되며 여러 곳에서 재사용하기 좋습니다. 저희 팀은 공통으로 사용하는 함수를`utils`에, 비즈니스에 관련된 함수를 `services`에 분리해서 관리하고 있습니다. 프로젝트가 소규모일 땐 관심사 분리가 크게 와닿지 않았는데 프로젝트가 커질수록 관심사 분리의 중요성에 대해서 느끼고 있습니다.
> https://careerly.co.kr/qnas/7150
