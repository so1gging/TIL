# ðŸ“ 2023ë…„ 11ì›” 27ì¼ ê¸°ë¡

## í´ë¡œì €ê°€ React hook ê³¼ ë¬´ìŠ¨ ê´€ë ¨ì´ ìžˆì£ ?

React useState

React ì—ì„œëŠ” ìƒíƒœ(status)ê°€ ë³€ê²½ë˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ì´ ì¼ì–´ë‚˜ìš”.
- **React Hook**ì—ì„œëŠ” `useState`ë¼ëŠ” Hookì„ ì´ìš©í•´ ì»´í¬ë„ŒíŠ¸ ë‚´ ìƒíƒœë¥¼ ê´€ë¦¬í•´ìš”.
- ì•„ëž˜ì™€ ê°™ì€ í˜•íƒœì£ .
```typescript
const [state, setState] = useState(initialValue)
```

- ì´ React Hookì€ ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆë‹¤ëŠ” ê²ƒì€ ì–´ë–»ê²Œ ì•Œê¹Œìš”?
- ì´ë•Œ ë°”ë¡œ **í´ë¡œì €**ë¥¼ ì‚¬ìš©í•´ìš”.

useStateë¥¼ í–ˆì„ ë•Œ ë°›ì•„ì˜¤ëŠ” ê°’ì— ëŒ€í•´ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ë³´ìž.

`node_modules/react/cjs/react.development.js`
![img.png](img.png)
- `useState` ëŠ” **InitialState** ë¥¼ ì¸ìžë¡œ ë°›ëŠ” í•¨ìˆ˜ë¡œ ì„ ì–¸ë˜ì–´ ìžˆì–´ìš”.
- ë­”ì§„ ëª¨ë¥´ì§€ë§Œ, `resolveDispatcher` ë¥¼ ì´ìš©í•´ **initialState**ë¥¼ ì „ë‹¬í•˜ê³  ìžˆë„¤ìš”.

`resolveDispathcer`
![img_1.png](img_1.png)
- `resolveDispathcer` ë¥¼ í•œë²ˆ ë” ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ ë³´ë©´ìš”.
- `ReactCurrentDispatcher` ì˜ current ê°’ì„ ë¦¬í„´í•˜ê³  ìžˆë„¤ìš”.

`ReactCurrentDispatcher`
![img_2.png](img_2.png)
- `ReactCurrentDispatcher` ì€ ê·¸ëƒ¥ `current` ê°’ì„ ë‹´ì€ ë³€ìˆ˜ë„¤ìš”?
- `ReactCurrentDispatcher` ì€ ì „ì—­ì— ì„ ì–¸ëœ ê°ì²´ë¼ê³  í•´ìš”.

### ì •ë¦¬
- `useState` ë¥¼ ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ë©´
- ì „ì—­ì—ì„œ ì„ ì–¸ëœ ê°ì²´ì˜ ê°’ì— ì ‘ê·¼í•´ ì´ì „ ê°’ì„ ê°€ì ¸ì˜¤ê³  ê´€ë¦¬í•˜ëŠ” ê±°ë„¤ìš”. 

- í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ëŠ” ë Œë”ê°€ í•„ìš”í•  ë•Œ í•¨ìˆ˜ë¥¼ ë‹¤ì‹œ í˜¸ì¶œ í•´ìš”.
- `ë Œë”ë§ === í•¨ìˆ˜ í˜¸ì¶œ`  ì´ ë˜ëŠ” ê±°ì—ìš”.
- í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒíƒœê´€ë¦¬ë¥¼ í•˜ê¸° ìœ„í•´ì„ , í•¨ìˆ˜ê°€ ë‹¤ì‹œ í˜¸ì¶œë˜ì—ˆì„ ë•Œ ì´ì „ ìƒíƒœë¥¼ ê¸°ì–µí•˜ê³  ìžˆì–´ì•¼ í•˜ë©°, React HooksëŠ” ì´ë¥¼ í´ë¡œì €ë¥¼ í†µí•´ í•´ê²°í•˜ë ¤ê³  í•©ë‹ˆë‹¤.


## ê·¸ëž˜ì„œ í´ë¡œì €ê°€ ë­”ë°ìš”.
í•¨ìˆ˜ê°€ ì„ ì–¸ë  ê·¸ ë‹¹ì‹œì— ì£¼ë³€ì˜ í™˜ê²½ê³¼ í•¨ê»˜ ê°‡ížˆëŠ” ê²ƒ

```typescript jsx
function sayHello () {
  const a = 'Hello';
  const b = 'World';
  
  function sumString () {
    console.log(a + ' ' + b);
  }
  
  return sumString;
}

const myFunc = sayHello();

myFunc(); // 'Hello World'
```

```typescript
const fruits = ['apple', 'banana', 'peach'];
const ul = document.createElement('ul');

const fruitBuilder = function (fruit) {
  return function () {
    console.log('your choice is ' + fruit);
  }
}

fruits.forEach(function (fruit) {
  let li = document.createElement('li');
  li.innerText = fruit;
  li.addEventListener('click', fruitBuilder(fruit));
  ul.appendChild(li);
})

document.body.appendChild(ul);
```


**ë‚˜ìœì˜ˆ** (`timer` ë¥¼ ê³„ì† ìƒì„±í•¨)
```typescript jsx
const debounce = (event) => {
    let timer;
    if (tiemr) clearTimeout(timer);
    timer = setTimeout(callback, delay, event);
    };
};
useEffect(() => {
    window.addEventListener('resize', debounce)
    return () => {
      window.removeEventListener('resize', debounce)
    }
},[])
```

**ì¢‹ì€ ì˜ˆ ** (`timer` ë¥¼ ê³„ì† ìƒì„±í•¨)
```typescript jsx
const debounce = () => {
    let timer;
    return event => {
      if (tiemr) clearTimeout(timer);
      timer = setTimeout(callback, delay, event);
    }
};
useEffect(() => {
  window.addEventListener('resize', debounce())
  return () => {
    window.removeEventListener('resize', debounce())
  }
},[])
```
